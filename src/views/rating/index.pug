extends ../layout

block content 
  include ../mixins/_breadcrumb
  +breadcurmb('Rating', [])

  .container-fluid.py-5
    .container.py-5
      .table-responsive
        table.table
          thead
            tr
              th(scope='col') #{t('cart.products')}
              th(scope='col') #{t('cart.name')}
              th(scope='col') #{t('cart.price')}
              th(scope='col') #{t('cart.quantity')}
              th(scope='col') #{t('cart.total')}
              th(scope='col') #{t('cart.handle')}
          tbody
            each item in orderItems
              tr
                th(scope='row')
                  .d-flex.align-items-center
                    img.img-fluid.me-5.rounded-circle.w-80px.h-80px(src=item.product.images[0] alt='')
                td
                  p.mb-0.mt-4 #{item.product.name}
                td
                  p.mb-0.mt-4 #{item.price} $
                td
                  .input-group.quantity.mt-4.w-100px
                    .input-group-btn
                      button.btn.btn-sm.btn-minus.rounded-circle.bg-light.border
                        i.fa.fa-minus
                    input.form-control.form-control-sm.text-center.border-0(type='text' value=item.quantity)
                    .input-group-btn
                      button.btn.btn-sm.btn-plus.rounded-circle.bg-light.border
                        i.fa.fa-plus
                td
                  - let total = item.quantity * item.price
                  p.mb-0.mt-4 #{total} $
                td
                  if !item.isReviewed
                    button#cancelOrder.btn.btn-primary.border-0.border-secondary.py-3.px-4.rounded-pill.text-white.w-100.bg-gray(data-bs-toggle="modal" data-bs-target="#modalRatingOrder" data-order-id=item.id) #{t('rating.rating')}
  #modalRatingOrder.modal.fade(tabindex='-1' aria-labelledby='modalRatingOrder' aria-hidden='true')
    .modal-dialog.modal-dialog-centered
      .modal-content
        .modal-header
          h1#modalRatingOrder.modal-title.fs-5 #{t('rating.rating')}
          button.btn-close(type='button' data-bs-dismiss='modal' aria-label='Close')
        .modal-body
          form
            label.form-label(for='status').pe-2
              | #{t('rating.rating')}
            select#status.form-select
              option(value='5') 5
              option(value='4') 4
              option(value='3') 3
              option(value='2') 2
              option(value='1') 1
            
            label.form-label(for='comment').pe-2
              | #{t('rating.comment')}
            textarea#comment.form-control(rows='3' required)
        .modal-footer
          button.btn.btn-secondary(type='button' data-bs-dismiss='modal') #{t('order.no')}
          button.btn.btn-primary(type='button') #{t('order.yes')}
