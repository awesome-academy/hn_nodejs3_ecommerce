extends ../layoutAdmin

block admin_content 
  .table-responsive
    .d-flex.mb-3
      div.w-50.ms-3
        label.form-label(for='keyword').pe-2
          | #{t('admin.product.search')}
        .input-group
          input.form-control(type='search' placeholder='keywords' aria-describedby='search-icon-1')
          span#search-icon-1.input-group-text.p-2
            i.fa.fa-search
      div.w-25.px-3
        label.form-label(for='pricemin').pe-2
          | #{t('admin.product.priceMin')}
        input#pricemin.form-control(type='number' placeholder='price min' aria-describedby='search-icon-1')
      div.w-25.px-3
        label.form-label(for='pricemax').pe-2
          | #{t('admin.product.priceMax')}
        input#pricemin.form-control(type='number' placeholder='price max' aria-describedby='search-icon-1')
    .d-flex.mb-3
      div.w-25.px-3
        label.form-label(for='category').pe-2
          | #{t('admin.product.category')}
        select#category.form-select
          each category in categories
            option(value=category) #{category}
      div.w-25.px-3
        label.form-label(for='status').pe-2
          | #{t('admin.product.ratingAvg')}
        select#status.form-select
          option(value='5') 5
          option(value='4') 4
          option(value='3') 3
          option(value='2') 2
          option(value='1') 1
          option(value='0') 0
      div.w-25.px-3
        label.form-label(for='status').pe-2
          | #{t('admin.product.status')}
        select#status.form-select
          each status in statuses
            option(value=status) #{status}
    .table-wrapper
      .table-title
        .row
          .col-sm-5
            h2.text-white #{t('admin.product.productManagement')}
          .col-sm-7
            a.btn.btn-secondary(href='#')
              i.fas.fa-plus
              span #{t('admin.product.addNewProduct')}
            a.btn.btn-secondary(href='#')
              i.fas.fa-file-export
              span #{t('admin.product.exportToExcel')}
      table.table.table-hover
        thead
          tr
            th #{t('admin.product.name')}
            th #{t('admin.product.category')}
            th #{t('admin.product.description')}
            th #{t('admin.product.price')}
            th #{t('admin.product.ratingAvg')}
            th #{t('admin.product.status')}
            th #{t('admin.product.action')}
        tbody
          each product in products
            tr
              td.w-250px
                a(href='#')
                  img.avatar(src=product.images[0] alt='Product')
                  |  #{product.name}
              td #{product.category.name}
              td.text-break.w-300px #{product.description}
              td #{product.price} 
              td #{product.ratingAvg}
              td
                span.status.text-success &bull;
                |  #{product.status}
              td
                a(href='#' style='color: #0d6efd').px-2
                  i.fas.fa-pen.fs-24px
      .col-12
        .pagination.d-flex.justify-content-center.mt-5
          each val in Array.from({length: pageLength}, (_, i) => i + 1)
            if val === page
              a.active.rounded(href='#') #{val}
            else
              a.rounded(href='#') #{val}
